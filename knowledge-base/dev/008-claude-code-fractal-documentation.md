# Claude Code 開發的分形文檔架構

> **來源**: [@chunxiangai](https://x.com/chunxiangai/status/2002798091813171478) | [原文連結](https://laper.ai/)
>
> **日期**: Sun Dec 21 17:47:29 +0000 2025
>
> **標籤**: `知識管理` `文檔組織` `Claude Code`

---

> **來源**: [@chunxiangai (赵纯想)](https://x.com/chunxiangai/status/1885574697862910341)  
> **日期**: 2025-02-01  
> **標籤**: `claude-code` `文檔架構` `開發工作流` `自指系統`

---

## 核心概念

在 Claude Code 開發中實現**分形文檔結構**，通過多層級的自指設計，讓局部與整體相互影響，形成自我維護的文檔系統。這種架構靈感來自《哥德爾、埃舍爾、巴赫》中提到的「複調」與「自指」概念。

## 三層架構設計

| 層級 | 位置 | 內容要求 | 自指機制 |
|------|------|----------|----------|
| **根目錄主文檔** | 專案根目錄 `.md` | 強調功能、架構、寫法更新必須同步更新相關子文檔 | 工作結束後必須更新 |
| **資料夾架構說明** | 每個資料夾內 `.md` | 3 行以內極簡架構說明 + 每個檔案的名稱、地位、功能 | 開頭聲明：一旦資料夾有變化，請更新我 |
| **檔案開頭註釋** | 每個檔案開頭 | 三行極簡註釋：Input / Output / Position | 開頭聲明：一旦我被更新，請更新我的註釋及所屬資料夾的 md |

## 檔案註釋三要素

每個檔案開頭必須包含三行極簡註釋：

```javascript
// Input: 依賴外部的什麼（例如：config.json, database connection）
// Output: 對外提供什麼（例如：API endpoints, utility functions）
// Position: 在系統局部的地位（例如：核心路由層、資料轉換中介層）
```

## 分形結構的化學反應

★ Insight ─────────────────────────────────────
1. **自蔓延更新機制**：每次修改會自動觸發相關文檔的更新需求，形成從局部到整體的連鎖反應
2. **雙向影響**：局部影響整體（檔案更新 → 資料夾文檔 → 根目錄），整體影響局部（架構調整 → 資料夾說明 → 檔案註釋）
3. **複調與自指**：每個層級都在描述自己，同時也在描述其他層級，形成相互印證的文檔網絡
─────────────────────────────────────────────────

這種架構的美在於：
- **局部影響整體**：單一檔案的修改會觸發資料夾文檔的更新，進而影響根目錄主文檔
- **整體影響局部**：根目錄的架構變更會要求更新資料夾說明，最終反映到每個檔案的註釋

## 實踐建議

1. **初期投入**：建立這套架構需要前期投入時間撰寫文檔，但長期維護成本會大幅降低
2. **嚴格遵守**：必須養成「改 code 就改文檔」的習慣，否則分形結構會崩解
3. **極簡原則**：每層文檔都強調「極簡」（3 行以內），避免文檔成為負擔
4. **Claude Code 配合**：這套架構特別適合 AI 輔助開發，因為明確的文檔結構能讓 AI 更好地理解專案脈絡
