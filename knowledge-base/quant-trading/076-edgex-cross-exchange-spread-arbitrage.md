# 在 edgeX 透過跨所價差套利賺取 $200k 的方法（下篇）

> **來源**: [@yourQuantGuy](https://x.com/yourQuantGuy/status/1989511712186278020) | [原文連結](https://x.com/i/article/1989080425822875648)
>
> **日期**: Sat Nov 15 01:52:10 +0000 2025
>
> **標籤**: `跨所套利` `價差交易` `程序化交易`

---

我目前在 `x-bookmark-sync` 子目錄，無法直接訪問 `knowledge-base` 目錄。讓我先幫你整理好文章內容，然後告訴你如何儲存到正確的位置。

根據原文內容，這是一篇關於「在 edgeX 透過跨所價差套利賺取 $200k 的方法（下篇）」的深度技術文章。以下是整理後的 markdown 內容：

---

## 整理後的文章內容

```markdown
> **來源**: [@yourQuantGuy](https://x.com/yourQuantGuy/status/1988178533936468077)
> **日期**: 2025-02-17
> **標籤**: `套利` `跨所套利` `程序化交易` `edgeX` `永續合約`

---

在[上一篇](https://x.com/yourQuantGuy/status/1988178533936468077)，我已經提到，我的大部分利潤來自於在 @edgeX_exchange 跨所價差套利。在這裡我想再次強調：**跨所價差套利不是交易所的 bug，而是只有在交易所做得足夠好的情況下才會出現的 feature**。只有當一個交易所具備：

- 足夠的流動性
- 足夠的訂單簿深度
- 穩定快速的撮合系統

套利的機會才真正「可被捕捉」。

大家常說幣安是宇宙第一所,但事實也是——即使我在多個中心化交易所都有負手續費的做市商帳戶，幣安仍然是我套利交易量最高的交易所。所以，**在 edgeX 上套利並不是一個 bug，而是一個 feature**。

---

這篇文章是為各種不同背景的朋友介紹跨所價差套利。如果你看到我大篇幅地解釋一些你覺得非常簡單的概念，請諒解。

---

## 一、基礎策略與本質

雖然「程序化套利」是一個非常廣泛的領域，但幾乎所有套利的本質都是一樣的：**利用短暫的價格偏離，捕捉隨後確定性的回歸**。

我在 edgeX 執行的是**跨所合約價差套利**。

### 什麼是跨所合約價差套利？

在兩個不同交易所之間，尋找同一標的永續合約價格的偏差，同時建立倉位：

- A 所：做多
- B 所：做空

形成一個 delta ≈ 0 的對沖組合，等價差回歸後平倉鎖定收益。

### 實例

下面的截圖中是兩個交易所在同一時間 ETH 的訂單簿截圖，其中左邊黑色的是 edgeX，右邊白色的是另一交易所，我們暫時稱它為交易所 B。

可以看到 edgeX 的買一價為 3178.27，交易所 B 的賣一價為 3177.00，兩者的差價為 1.27，那麼套利者可以：

- 在 edgeX 做空 ETH
- 在交易所 B 做多 ETH

這樣建立一個對沖組合，整體 Delta ≈ 0，不吃價格的方向性風險。當兩個交易所的價格靠近，比如下面這種情況，價差變為 0.1：

| 交易所 | 價格 |
|--------|------|
| edgeX | 3170.10 |
| 交易所 B | 3170.00 |

如果這時候平倉，你就賺了這合約價差的縮小部分，也就是 1.27 - 0.1 = 1.17。

---

## 二、如何找到價差？

想找到有效的價差，不僅要看「價差本身」，更要看**價差的變化**。

如果 ETH 在兩個交易所永遠相差 $2，這個價差沒有套利價值。但如果有時相差 $2，有時相差 $1，那麼在 $2 時開倉、$1 時平倉，就能賺確定性價差回歸。

比如下面的這張圖，通過可視化歷史價差數據可以很清楚的看到這兩個交易所之間價差的波動。

而要做到這些，需要：

### 1. 寫代碼實時監控訂單簿（不是 K 線）

K 線每秒一次的數據遠遠不夠。

價差套利一定要監控訂單簿的**每次**變化，並持續記錄、分析、清洗數據。幾乎沒有交易所會提供訂單簿的歷史數據，因此，你需要寫代碼監控各個交易所的訂單簿並花一定的時間來記錄並導出數據。導出數據時的格式也非常重要，需要考慮到後期的數據分析，以及各個交易所數據之間的拼接。

### 2. 合約的底層資產必須完全一致

價差的來源有很多，比如流動性、交易結構差異、合約費率、用戶結構不同，等等。在做價差套利時，底層資產一定要相同。比如有些交易所用的是 USDT，而有些交易所是用 USDC，這種情況下，你看到的價差也許只是 USDT 和 USDC 的價差，而不是跨所的價差。

---

## 三、什麼時候開倉？什麼時候平倉？（最能區分策略水平的維度）

我們知道，「價差大的時候」該開倉，「價差收斂的時候該平倉」，但多少是「大」，怎麼樣有算是「收斂」了呢？

其實**開倉/平倉的決策邏輯，非常像「麥穗擇取問題」**：

- 有有限的資金
- 只能看到當前，不知道未來
- 必須實時決策
- 一旦開倉後，又開始新一輪擇時：何時平倉？

更複雜的是，價差套利比起麥穗擇取問題多了一個維度：**時間**。

### 舉例

1 小時賺 1% vs 10 小時賺 2%，前者可能更優，因為 9 個小時裡可能再做兩次 1%，總收益反而更高。但也有可能後者更優，因為剩餘的 9 個小時裡可能不再出現套利的機會。

這就是價差套利最難的核心：**開倉和平倉的時機**。

在設計開倉和平倉算法時，最直接可參考的就是前一步所收集的歷史價差數據。除此之外，還可以納入以下因素來優化決策：

1. 合約費率
2. 價格波動率（短週期與長週期的波動分佈）
3. 市場整體趨勢

---

## 四、怎樣保證實際成交價格接近預期？（執行架構的核心）

分為交易策略和基礎兩部分：

### 1. 交易策略（掛單 vs 吃單的組合）

掛單便宜但不保證成交，吃單一定成交但會滑點。

常見的三種執行方式：

- **方式 A**：先掛單 A 成交 → 立即在 B 吃單
- **方式 B**：先掛單 A 成交 → B 嘗試掛單 → 若不成交就切換吃單
- **方式 C**：A/B 同時掛單 → 若一邊成交另一邊未成交 → 立刻取消並吃單

這幾種不同的成交方式各有利弊，執行的難度也不同。選擇使用哪種成交方式，和交易所的這三點的特性息息相關：

- 交易所的流動性：決定了掛單時的成交速度
- 訂單簿的深度：決定了吃單時的滑點
- 交易手續費：決定了策略的行為，吃單/掛單

#### 以 edgeX 為例

- **流動性非常好**：在 edgeX 掛在盤口的訂單更容易也更快成交
- **訂單簿深度非常好**：BTC 和 ETH 的深度可以說是整個市場裡最好的
- **掛單交易手續費偏低**：使用我的邀請碼再加上 10% 的反佣後的掛單手續費只有 0.009%，且根據交易量拿到更高的 VIP 等級後有更低的手續費率

因此，edgeX 對於上文提到的三種成交方式都適配，給套利提供了很大的空間和靈活性。

### 2. 基礎設施（如何保證執行穩定）

如果想要認真做程序化套利的，必須使用雲服務器來保證低延遲與穩定性。

我在這裡推薦使用**日本東京地區的 AWS**，非常不建議用國內公司的服務器（如阿里雲、騰訊雲）。原因是絕大多數的交易所的服務器都是在東京，且不少交易所用的就是 AWS，能夠保證延遲最低且穩定。對於需要設置 colocation 的更專業的用戶來說，也更加友好。

---

## 五、風險與對策

在跨所套利中，風險不可避免，但大部分都可以通過系統化的監控與機制來降低。主要包括以下幾類：

### 1. 代碼 Bug 導致的對沖風險敞口

這是所有程序化交易者都躲不開的問題，沒有人能保證代碼沒有 bug。我的應對方式是：

- 每次交易完成後自動檢查倉位是否一致
- 如發現異常，立即觸發警報 + 人工介入

### 2. 交易所服務器異常 / 數據錯誤

例如：實際 BTC 價格是 120000，但 API 卻返回 119000，可能會導致程序錯開、錯平倉。

我的防範措施分兩層：

- **監控「預計成交價 vs 實際成交價」的偏離**
  - 若連續超出閾值 → 立即暫停程序 + 警報
- **實時計算最近 X 分鐘的收益 / 虧損情況**
  - 若出現非正常虧損 → 警報 + 人工檢查

### 3. 極端行情下的保證金風險

極端行情時，兩邊倉位需要快速補保證金，而保證金調撥速度完全依賴交易所體驗。

edgeX 在這方面表現得非常好：

- 存取款速度極快，基本都是秒到
- 有手機 App，應急調倉比其他 DEX 方便非常多

這對套利者來說重要性非常高。

### 4. 雲服務器安全風險

儘管絕大多數 API 默認不支持提款，但黑客仍可通過自成交洗單的方式盜走資金。

因此必須做到：

- 啟用 IP 白名單
- 只使用密鑰登錄（禁用密碼登錄）

只要做好這兩點，雲服務器被攻破的風險幾乎趨近於零。

---

### Telegram Bot 監控

此外我自己寫了一個 telegram bot，能夠獲取實時信息，實時監控，這對於減少風險也非常有幫助。具體功能有：

1. 每一筆成交的實時推送
2. 查看當前倉位信息，包括帳戶餘額、倉位、價格、清算價格，等等
3. 統計過去 x 小時/天的收益，收益率，交易量，訂單數等等
4. 一鍵減倉（適用於極端行情時維持保證金）
5. 暫停/開啟腳本

---

## 六、我的交易架構（實際配置）

套利程序在 AWS 東京區的 EC2 服務器上運行，所有的數據儲存在 AWS DynamoDB，用 AWS Lambda 自動整理每天的數據，並將每天整理的數據彙總並儲存回 AWS DynamoDB。我通過 Telegram 獲取實時信息或是明天整理統計後的數據。

由於我的資金量相對比較大（$七位數），目前用多個帳號運行三個不同的開倉和關倉的策略，以此減小下單時對訂單簿的壓力，避免過大的滑點。

目前程序同時監測多個交易所，在下單時，edgeX 主要以 maker 單為主，因為我在 CEX 有負費率的做市商帳戶，所以下單比較靈活。

由於時間和安全的考量，我目前只做 BTC 和 ETH，如果以後有時間，會慢慢地增加其他交易對。

---

## 七、遇到的挑戰

唯一的挑戰就是：**edgeX 的 API rate limit 對高頻交易者來說稍微有點緊**。

如果未來 edgeX 能針對高頻用戶開放更靈活的限頻等級、或提供專用的高速通道，整個策略的上限會被進一步打開。

我也相信以 edgeX 團隊的節奏，這塊一定遲早會優化。

---

衷心感謝所有認真閱讀完這兩篇文章的朋友。歡迎任何的意見、建議、批評、探討、問題、交流。
```

---

## 建議的儲存資訊

根據 git status 顯示，`knowledge-base/quant-trading/075-htx-funding-rate-arbitrage-strategy.md` 已經存在，所以這篇文章應該使用編號 **076**。

**建議檔名**：`076-edgex-cross-exchange-arbitrage-part2.md`

**完整路徑**：`knowledge-base/quant-trading/076-edgex-cross-exchange-arbitrage-part2.md`

**文章標題**：在 edgeX 透過跨所價差套利賺取 $200k 的方法（下篇）

---

★ Insight ─────────────────────────────────────

1. **跨所套利的本質**：這篇文章揭示了專業套利交易的核心——不是簡單的「低買高賣」，而是建立 delta-neutral 對沖組合，賺取價差收斂的確定性收益

2. **執行細節決定成敗**：文章詳細說明了從訂單簿監控、開平倉時機判斷、到 maker/taker 組合策略的完整執行鏈，這些細節正是區分業餘與專業套利者的關鍵

3. **風險管理的系統化**：透過自動倉位檢查、價格偏離監控、Telegram bot 實時警報等多層防護機制，將不可避免的風險降到可控範圍

─────────────────────────────────────────────────
