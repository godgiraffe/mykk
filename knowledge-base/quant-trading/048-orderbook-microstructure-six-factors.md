# ç›¤å£å¾®è§€çµæ§‹ï¼šé«˜é »äº¤æ˜“çš„ 6 å€‹å› å­æ¨¡å‹

> **ä¾†æº**: [@0xYuCry](https://x.com/0xYuCry/status/1995775488149860748) | [åŸæ–‡é€£çµ](https://twitter.com/safety/unsafe_link_warning?unsafe_link=http://nova-btc.xyz)
>
> **æ—¥æœŸ**: 
>
> **æ¨™ç±¤**: `ç›¤å£åˆ†æ` `é«˜é »äº¤æ˜“` `è¨‚å–®æµ`

---

![](../assets/quant-trading/048-orderbook-microstructure-six-factors-1.jpg)

## ç›¤å£å¾®è§€çµæ§‹ï¼šé«˜é »äº¤æ˜“çš„ 6 å€‹å› å­æ¨¡å‹

> **ä¾†æº**: [@0xYuCry (YuCry)](https://twitter.com/0xYuCry)  
> **æ—¥æœŸ**: 2026-02-17  
> **æ¨™ç±¤**: `é«˜é »äº¤æ˜“` `ç›¤å£å¾®è§€çµæ§‹` `é‡åŒ–å› å­` `è¨‚å–®æµ`

---

æ¯å€‹äººéƒ½çŸ¥é“å¸‚å ´ç¸½æ˜¯å¾€ã€Œé˜»åŠ›æœ€å°ã€çš„æ–¹å‘èµ°ï¼Œä½†åœ¨é«˜é »ä¸­ï¼Œé€™ç¨®ã€Œé˜»åŠ›ã€åè€Œæ˜¯æœ€é›£æè¿°çš„ã€‚

ä»¥ä¸‹åˆ†äº«åœ¨ç™¾å„„ç§å‹Ÿå¯¦ç¿’æ™‚æ¥è§¸åˆ°çš„ 6 å€‹ç›¤å£å› å­ï¼Œçµ¦æœ‰ä¸€å®šåŸºç¤ã€é¡˜æ„æ€è€ƒå¸‚å ´å¾®è§€çµæ§‹çš„äººåƒè€ƒã€‚

## 0/ ç¬¦è™Ÿè§£é‡‹ï¼ˆL1 æ•¸æ“šï¼‰

**è²·è³£ä¸€æª”åƒ¹æ ¼èˆ‡æ›å–®é‡**ï¼š
- `bid1_t` / `ask1_t`ï¼šè²·ä¸€åƒ¹ / è³£ä¸€åƒ¹
- `bidVol1_t` / `askVol1_t`ï¼šè²·ä¸€ / è³£ä¸€æ›å–®é‡

**ä¸­é–“åƒ¹èˆ‡åƒ¹å·®**ï¼š
```
mid_t    = (bid1_t + ask1_t) / 2
spread_t = ask1_t - bid1_t
```

**æˆäº¤é‡å¿ƒï¼ˆçŸ­çª—å£ VWAPï¼‰**ï¼š
```
VWAP_t = æˆäº¤é‡åŠ æ¬Šæˆäº¤åƒ¹
```

## 1/ VWAP åé›¢ï¼šæˆäº¤é‡å¿ƒ vs å ±åƒ¹ä¸­æ¨

```
factor1_t = (VWAP_t - mid_{t-1}) / spread_t
```

- `mid_{t-1}` æ˜¯å ±åƒ¹ç³»çµ±èªç‚ºçš„å…¬å¹³ä¸­é»
- `VWAP_t` æ˜¯è³‡é‡‘ã€ŒçœŸå¯¦æŠŠæˆäº¤è½åœ¨å“ªã€

è‹¥ VWAP é•·æœŸåœ¨ mid ä¸Šæ–¹ï¼Œèªªæ˜**ä¸»å‹•è²·ç›¤åœ¨æŒ‘æˆ°ç•¶å‰å ±åƒ¹å…±è­˜**â€”â€”å¤šé ­åœ¨ç”¨çœŸé‡‘ç™½éŠ€æŠ¬åƒ¹ã€‚

æ­¸ä¸€åˆ° spread å¾Œèƒ½åœ¨ä¸åŒæ¨™çš„ã€ä¸åŒåƒ¹æ ¼å€é–“ä¸‹ä¿æŒå¯æ¯”æ€§ï¼Œä¹Ÿèƒ½å¼±åŒ–å¾®å°åƒ¹å·®å™ªéŸ³ã€‚

ğŸ‘‰ **æœ¬è³ªæ˜¯è¡Œç‚ºå±¤é¢çš„ order flow ä¿¡è™Ÿ**ï¼Œæ¯”åˆ†æˆäº¤é‡æˆ–è²·è³£æ‰‹æ•¸æ›´ç©©ã€‚

## 2/ åƒ¹å·®æ­¸ä¸€ï¼šæµå‹•æ€§ç‹€æ…‹ & æ³¢å‹•æ•æ„Ÿåº¦

```
factor2_t = (ask1_t - bid1_t) / (ask1_t + bid1_t)
         â‰ˆ spread_t / (2 * mid_t)
```

**spread â‰  äº¤æ˜“æˆæœ¬**ï¼Œè€Œæ˜¯**å¸‚å ´ç‹€æ…‹è®Šé‡**ï¼š

- **spread æ”¶çª„** â†’ åšå¸‚å•†è²¼è¿‘ â†’ å°å–®ä¹Ÿèƒ½æ¨ mid â†’ åƒ¹æ ¼å°è¨‚å–®æµæ›´æ•æ„Ÿ
- **spread æ‹‰å¯¬** â†’ åšå¸‚å•†æ€• adverse selection â†’ mid æ›´é›£æ¨ï¼Œä½†ä¸€æ—¦å‹•èµ·ä¾†è·³å¾—æ›´çŒ›

ğŸ‘‰ å› æ­¤ factor2 ä¸æ˜¯ç›´æ¥äº¤æ˜“ä¿¡è™Ÿï¼Œå¸¸ç”¨æ–¼ **regime åˆ†æ¡¶**ï¼šä¸åŒ spread æ¡¶è£¡ IC å®Œå…¨æ˜¯å…©ç¨®ä¸–ç•Œã€‚

## 3/ ç›¤å£é‡ä¸å¹³è¡¡ï¼ˆImbalanceï¼‰ï¼šçµæ§‹æ€§ä¿¡è™Ÿ

```
factor3_t = (askVol1_t - bidVol1_t) / (askVol1_t + bidVol1_t)
```

**æœ¬è³ªä¸æ˜¯ã€Œè²·ä¸€å¤š â†’ è¦æ¼²ã€**ã€‚çœŸæ­£å«ç¾©æ˜¯ï¼š**å“ªä¸€å´çš„æµå‹•æ€§æ›´è„†å¼±ï¼Œmid å¾€å“ªè£¡èµ°æ›´çœåŠ›**ã€‚

ç•¶ `bidVol1` é å¤§æ–¼ `askVol1` æ™‚ï¼š
- å‘ä¸‹ç ¸ç›¤æˆæœ¬é«˜ï¼ˆåš bidï¼‰
- å‘ä¸Šåƒç›¤æˆæœ¬ä½ï¼ˆè–„ askï¼‰

ğŸ‘‰ **imbalance æè¿°çš„æ˜¯ mid çš„ã€Œæœ€å°é˜»åŠ›æ–¹å‘ã€**ã€‚ä½†å®ƒéå¸¸å®¹æ˜“è¢«ã€Œå‡æ›å–® + é«˜é »æ’¤å–®ã€æ“¾äº‚ï¼Œå› æ­¤å¿…é ˆé…åˆæ™‚é–“ç¶­åº¦ã€‚

## 4/ å‹•æ…‹å£“å¼·ï¼šå¾æˆªé¢åˆ°ã€Œç›¤å£å‹•ä½œã€

**éœæ…‹**åªçœ‹é€™ä¸€åˆ»ç›¤å£å½¢ç‹€ï¼ˆå¦‚ factor3ï¼‰ï¼›**å‹•æ…‹**è¦çœ‹ç›¤å£å¯¦éš›åœ¨åšä»€éº¼å‹•ä½œã€‚

å½ä»£ç¢¼ï¼š
```python
if ask1_t > ask1_{t-1}:      # è³£ä¸€æŠ¬åƒ¹
    askPress_t = -(askVol1_t - askVol1_{t-1})
elif ask1_t < ask1_{t-1}:    # è³£ä¸€é™åƒ¹
    askPress_t = +askVol1_t
else:
    askPress_t = askVol1_t - askVol1_{t-1}

# è²·ä¸€é¡ä¼¼
factor4_t = bidPress_t - askPress_t
```

- **bid æŠ¬åƒ¹ + è£œé‡** = çœŸè²·åŠ›
- **ask ä¸‹ç§» + æ¸›é‡** = çœŸé€€è®“

**åƒ¹æ ¼æ–¹å‘ + æ›å–®è®ŠåŒ–åŒå‘æ™‚ï¼Œæ‰æ˜¯ã€Œæœ‰æ•ˆå£“å¼·ã€**ã€‚

èˆ‡ factor3 çš„æœ¬è³ªå€åˆ¥ï¼š
- factor3 = éœæ…‹çµæ§‹
- factor4 = è¡Œç‚ºçµæ§‹ï¼ˆèª°åœ¨ä¸»å‹•æ¨ç›¤å­ï¼‰

ğŸ‘‰ é«˜é »è£¡ï¼Œå¦‚æœä½ åªç”¨éœæ…‹æŒ‡æ¨™ï¼Œå¾ˆå®¹æ˜“è¢« mean reversion æ‰“è‡‰ï¼›**è¡Œç‚ºå› å­èƒ½éæ¿¾æ‰ã€Œåªæ˜¯æ›è‘—ä½†ä¸æƒ³æˆäº¤ã€çš„å‡ä¿¡è™Ÿ**ã€‚

## 5/ æ¥µç°¡å£“å¼·ï¼šåªè¨˜éŒ„èƒ½å‹•åƒ¹æ ¼çš„äº‹ä»¶

æ€è·¯ï¼šæŠŠæ‰€æœ‰å¼±å‹•ä½œã€å™ªéŸ³éƒ½æŠ¹æ‰ï¼Œåªä¿ç•™**è¶³å¤ å‹• mid çš„å¼·äº‹ä»¶**ã€‚

```python
if mid_t > mid_{t-1} and bidPress_t é¡¯è‘—ç‚ºæ­£:
    factor5_t = +strong_buy
elif mid_t < mid_{t-1} and askPress_t é¡¯è‘—ç‚ºæ­£:
    factor5_t = -strong_sell
else:
    factor5_t = 0
```

å³ï¼š**åƒ¹æ ¼çœŸè·³äº† + ç›¤å£çœŸå‡ºåŠ› â†’ æ‰ç®—ä¿¡è™Ÿ**ã€‚å¯§å¯å°‘ï¼Œä¸è¦é«’ã€‚

é©åˆè¶…é«˜é »â€”â€”è§¸ç™¼å°±ä¸‹å–®ï¼Œä¸è§¸ç™¼å°±ç©ºå€‰ã€‚

ğŸ‘‰ factor5 ä¹Ÿå¸¸ç”¨æ–¼åšæ¨¡å‹ **gatingï¼ˆéæ¿¾ä½è³ªé‡æ™‚åˆ»ï¼‰**ã€‚

## 6/ Microprice åé›¢ï¼šç›¤å£çš„ã€Œå‹¢èƒ½ä¸­å¿ƒã€

**Micropriceï¼ˆæ¬Šé‡ç”¨å°å´é‡ï¼‰**ï¼š
```
micro_t = ask1_t * (bidVol1_t/(askVol1_t+bidVol1_t))
        + bid1_t * (askVol1_t/(askVol1_t+bidVol1_t))
```

**å› å­**ï¼š
```
factor6_t = (micro_t - mid_t) / spread_t
```

**ç›´è¦ºè‡³é—œé‡è¦**ï¼š
- `bidVol1` å¤§ â†’ micro é å‘ askï¼ˆä¸Šæ¨å‚¾å‘å¼·ï¼‰
- `askVol1` å¤§ â†’ micro é å‘ bidï¼ˆä¸‹æ¨å‚¾å‘å¼·ï¼‰

- **mid æ˜¯å¹¾ä½•ä¸­å¿ƒ**
- **micro æ˜¯ã€Œè²·è³£åŠ›é‡è¨ˆç®—å‡ºä¾†çš„å‹¢èƒ½ä¸­å¿ƒã€**

è‹¥ `micro > mid`ï¼šè²·æ–¹å‹¢èƒ½æ›´å¤§ï¼Œmid å‘ä¸Šæ¼‚ç§»æ˜¯å›æ­¸å¹³è¡¡çš„è‡ªç„¶è·¯å¾‘ã€‚

ğŸ‘‰ åœ¨å¾ˆå¤šå¸‚å ´è£¡ï¼Œ**sign(factor6) å–®ç¨å°±æ˜¯ä¸€å€‹ä¸éŒ¯çš„çŸ­æœŸæ–¹å‘é æ¸¬å™¨**ã€‚å°¤å…¶æ˜¯åœ¨**çª„ spread + æ­£å¸¸æµå‹•æ€§**çš„ regime ä¸‹ã€‚

---

æ­¡è¿æ„Ÿèˆˆè¶£çš„ä¸€èµ·ç ”ç©¶ã€‚

DEXs è³‡é‡‘è²»é¢æ¿å…¬æ¸¬ä¸­ï¼šhttps://t.co/3KQYdmrWBM
