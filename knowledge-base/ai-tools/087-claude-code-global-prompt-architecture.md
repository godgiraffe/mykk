# Claude Code 全局提示詞：架構師附身的代碼質量指南

> **來源**: [@wquguru](https://x.com/wquguru/status/1951936322538447198)
>
> **日期**: Sun Aug 03 09:20:59 +0000 2025
>
> **標籤**: `Claude Code` `代碼架構` `提示詞工程`

---

> **來源**: [@wquguru (WquGuru🦀)](https://x.com/wquguru)
> **日期**: 2026-02-18
> **標籤**: `claude-code` `code-quality` `architecture` `best-practices`

---

## 概述

這是一個適用於 Claude Code、Augment、Cursor 等 AI 編碼工具的全局提示詞配置，用於提升代碼質量和架構設計。

## 程式碼架構硬性指標

### 文件行數限制

- **動態語言**（Python、JavaScript、TypeScript）：每個代碼文件不超過 **200 行**
- **靜態語言**（Java、Go、Rust）：每個代碼文件不超過 **250 行**

### 文件數量限制

- 每層資料夾中的文件，盡可能不超過 **8 個**
- 如有超過，需要規劃為多層子資料夾

## 架構設計：避免代碼壞味道

除了硬性指標外，需時刻關注優雅的架構設計，避免以下可能侵蝕代碼質量的「壞味道」：

### 1. 僵化 (Rigidity)

系統難以變更，任何微小的改動都會引發一連串的連鎖修改。

### 2. 冗餘 (Redundancy)

同樣的代碼邏輯在多處重複出現，導致維護困難且容易產生不一致。

### 3. 循環依賴 (Circular Dependency)

兩個或多個模組互相糾纏，形成無法解耦的「死結」，導致難以測試與復用。

### 4. 脆弱性 (Fragility)

對代碼一處的修改，導致了系統中其他看似無關部分功能的意外損壞。

### 5. 晦澀性 (Obscurity)

代碼意圖不明，結構混亂，導致閱讀者難以理解其功能和設計。

### 6. 數據泥團 (Data Clump)

多個數據項總是一起出現在不同方法的參數中，暗示著它們應該被組合成一個獨立的物件。

### 7. 不必要的複雜性 (Needless Complexity)

用「殺牛刀」去解決「殺雞」的問題，過度設計使系統變得臃腫且難以理解。

## 執行原則

### 【非常重要！！】

1. **無論是編寫代碼、閱讀或審核他人代碼時**，都要嚴格遵守上述硬性指標，以及時刻關注優雅的架構設計
2. **一旦識別出可能侵蝕代碼質量的「壞味道」**，應當立即詢問用戶是否需要優化，並給出合理的優化建議
